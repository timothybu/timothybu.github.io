(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{516:function(t,a,s){"use strict";s.r(a);var e=s(23),o=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h3",{attrs:{id:"cookie-sessionstorage-localstorage"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cookie-sessionstorage-localstorage"}},[t._v("#")]),t._v(" cookie sessionStorage localStorage")]),t._v(" "),s("ul",[s("li",[t._v("cookie 的大小限制为 4KB 左右\n"),s("ul",[s("li",[t._v("由服务器生成可设置失效时间")]),t._v(" "),s("li",[t._v("客户端生成默认是关闭浏览器后失效")])])]),t._v(" "),s("li",[t._v("localStorage")]),t._v(" "),s("li",[t._v("当页面关闭后，sessionStorage 中的数据就会被清空")])]),t._v(" "),s("h3",{attrs:{id:"生命周期"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#生命周期"}},[t._v("#")]),t._v(" 生命周期")]),t._v(" "),s("h4",{attrs:{id:"domcontentloaded"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#domcontentloaded"}},[t._v("#")]),t._v(" DOMContentLoaded")]),t._v(" "),s("p",[t._v("DOM 已经就绪，因此处理程序可以查找 DOM 节点，并初始化接口。")]),t._v(" "),s("ul",[s("li",[t._v("必须使用 addEventListener 来捕获它。")]),t._v(" "),s("li",[t._v("具有 async 特性（attribute）的脚本不会阻塞 DOMContentLoaded，使用 document.createElement('script') 动态生成并添加到网页的脚本也不会阻塞 DOMContentLoaded。")]),t._v(" "),s("li",[t._v("如果在样式后面有一个脚本，那么该脚本必须等待样式表加载完成。")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("link type"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text/css"')]),t._v(" rel"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"stylesheet"')]),t._v(" href"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"style.css"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在样式表加载完成之前，脚本都不会执行")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getComputedStyle")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("marginTop"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),s("p",[t._v("使用 "),s("code",[t._v("document.readyState")]),t._v(" 获取加载状态。")]),t._v(" "),s("ul",[s("li",[t._v("loading —— 文档正在被加载。")]),t._v(" "),s("li",[t._v("interactive —— 文档被全部读取。")]),t._v(" "),s("li",[t._v("complete —— 文档被全部读取，并且所有资源（例如图片等）都已加载完成。")])]),t._v(" "),s("h4",{attrs:{id:"load-window-onload"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#load-window-onload"}},[t._v("#")]),t._v(" load(window.onload)")]),t._v(" "),s("p",[t._v("外部资源已加载完成，样式已被应用，图片大小也已知了。")]),t._v(" "),s("h4",{attrs:{id:"beforeunload"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#beforeunload"}},[t._v("#")]),t._v(" beforeunload")]),t._v(" "),s("p",[t._v("用户正在离开：我们可以检查用户是否保存了更改，并询问他是否真的要离开。")]),t._v(" "),s("h4",{attrs:{id:"unload-window-onunload"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#unload-window-onunload"}},[t._v("#")]),t._v(" unload(window.onunload)")]),t._v(" "),s("p",[t._v("用户几乎已经离开了，但是我们仍然可以启动一些操作，例如发送统计数据 "),s("code",[t._v("navigator.sendBeacon(url, data)")]),t._v("。")])])}),[],!1,null,null,null);a.default=o.exports}}]);